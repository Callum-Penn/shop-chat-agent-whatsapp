2025-07-28T13:34:44.446459367Z [34mâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[34m[30m[44m git repo clone [0m[0m[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼[0m
2025-07-28T13:34:44.446484749Z [34mâ”‚[0m [34m â€º fetching app source code[0m
2025-07-28T13:34:44.446487509Z [34mâ”‚[0m => Selecting branch "main"
2025-07-28T13:34:44.446489513Z [34mâ”‚[0m => Checking out commit "b08453252279e034d5ebf0d0f8b54ea109a151b1"
2025-07-28T13:34:44.469683987Z [34mâ”‚[0m 
2025-07-28T13:34:44.471668681Z [34mâ”‚[0m [32m âœ” cloned repo to [35m/workspace[0m[0m
2025-07-28T13:34:44.497063265Z [34mâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼[0m
2025-07-28T13:34:44.497076476Z 
2025-07-28T13:34:44.883122783Z [34m â€º configuring build-time app environment variables:[0m
2025-07-28T13:34:44.883148871Z      SHOPIFY_CHAT_BUBBLE_ID REDIRECT_URL SHOPIFY_API_KEY WHATSAPP_VERIFY_TOKEN WHATSAPP_PHONE_NUMBER_ID SHOPIFY_APP_URL SHOPIFY_API_SECRET DIRECT_URL WHATSAPP_TOKEN CLAUDE_API_KEY
2025-07-28T13:34:44.883152842Z 
2025-07-28T13:34:44.885527223Z [34m â€º configuring custom build command to be run at the end of the build:[0m
2025-07-28T13:34:44.890722400Z    [34mâ”‚[0m npm run build
2025-07-28T13:34:44.890738183Z 
2025-07-28T13:34:44.990074609Z [34mâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[34m[30m[44m buildpack detection [0m[0m[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼[0m
2025-07-28T13:34:45.014554206Z [34mâ”‚[0m [34m â€º using Ubuntu 22.04 stack[0m
2025-07-28T13:34:46.143227548Z [34mâ”‚[0m Detected the following buildpacks suitable to build your app:
2025-07-28T13:34:46.143258489Z [34mâ”‚[0m 
2025-07-28T13:34:46.143534274Z [34mâ”‚[0m    digitalocean/nodejs-appdetect  v0.0.6    
2025-07-28T13:34:46.143545264Z [34mâ”‚[0m    heroku/nodejs                  v0.296.5  (Node.js)
2025-07-28T13:34:46.143548054Z [34mâ”‚[0m    digitalocean/procfile          v0.1.0    (Procfile)
2025-07-28T13:34:46.143550383Z [34mâ”‚[0m    digitalocean/custom            v0.2.0    (Custom Build Command)
2025-07-28T13:34:46.146552872Z [34mâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼[0m
2025-07-28T13:34:46.146563886Z 
2025-07-28T13:34:46.149011334Z [34mâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[34m[30m[44m build caching [0m[0m[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼[0m
2025-07-28T13:34:46.151079943Z [34mâ”‚[0m [34m â€º checking for cache from a previous build[0m
2025-07-28T13:34:46.470878480Z [34mâ”‚[0m Timer: Analyzer started at 2025-07-28T13:34:46Z
2025-07-28T13:34:47.057506500Z [34mâ”‚[0m Restoring metadata for "heroku/nodejs:shim" from cache
2025-07-28T13:34:47.057802663Z [34mâ”‚[0m Timer: Analyzer ran for 586.93522ms and ended at 2025-07-28T13:34:47Z
2025-07-28T13:34:47.223874929Z [34mâ”‚[0m Timer: Restorer started at 2025-07-28T13:34:47Z
2025-07-28T13:34:47.370500763Z [34mâ”‚[0m Restoring data for "heroku/nodejs:shim" from cache
2025-07-28T13:34:49.362352289Z [34mâ”‚[0m Timer: Restorer ran for 2.138667178s and ended at 2025-07-28T13:34:49Z
2025-07-28T13:34:49.381808721Z [34mâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼[0m
2025-07-28T13:34:49.381829707Z 
2025-07-28T13:34:49.384247062Z [34mâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[34m[30m[44m app build [0m[0m[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¼[0m
2025-07-28T13:34:49.423348444Z [34mâ”‚[0m Timer: Builder started at 2025-07-28T13:34:49Z
2025-07-28T13:34:49.877057837Z [34mâ”‚[0m        
2025-07-28T13:34:49.877082181Z [34mâ”‚[0m -----> Creating runtime environment
2025-07-28T13:34:49.922468724Z [34mâ”‚[0m        
2025-07-28T13:34:49.925467643Z [34mâ”‚[0m        NPM_CONFIG_LOGLEVEL=error
2025-07-28T13:34:49.930868284Z [34mâ”‚[0m        NODE_VERBOSE=false
2025-07-28T13:34:49.930907067Z [34mâ”‚[0m        NODE_ENV=
2025-07-28T13:34:49.930910500Z [34mâ”‚[0m        NODE_MODULES_CACHE=true
2025-07-28T13:34:49.936440007Z [34mâ”‚[0m        
2025-07-28T13:34:49.936613905Z [34mâ”‚[0m -----> Installing binaries
2025-07-28T13:34:50.032330384Z [34mâ”‚[0m        engines.node (package.json):   ^18.20 || ^20.10 || >=21.0.0
2025-07-28T13:34:50.032353909Z [34mâ”‚[0m        engines.npm (package.json):    unspecified (use default)
2025-07-28T13:34:50.032356484Z [34mâ”‚[0m        
2025-07-28T13:34:50.155595191Z [34mâ”‚[0m        Resolving node version ^18.20 || ^20.10 || >=21.0.0...
2025-07-28T13:34:50.166637939Z [34mâ”‚[0m        Downloading and installing node 24.2.0...
2025-07-28T13:34:55.125533342Z [34mâ”‚[0m        Using default npm version: 11.3.0
2025-07-28T13:34:55.892660766Z [34mâ”‚[0m        
2025-07-28T13:34:55.892693517Z [34mâ”‚[0m -----> Restoring cache
2025-07-28T13:34:55.895361236Z [34mâ”‚[0m        - npm cache
2025-07-28T13:34:55.994360486Z [34mâ”‚[0m        
2025-07-28T13:34:55.994389076Z [34mâ”‚[0m -----> Installing dependencies
2025-07-28T13:34:56.080385293Z [34mâ”‚[0m        Installing node modules
2025-07-28T13:35:14.259741171Z [34mâ”‚[0m        
2025-07-28T13:35:14.259770972Z [34mâ”‚[0m        added 1217 packages, and audited 1218 packages in 18s
2025-07-28T13:35:14.259773049Z [34mâ”‚[0m        
2025-07-28T13:35:14.259775413Z [34mâ”‚[0m        302 packages are looking for funding
2025-07-28T13:35:14.259777926Z [34mâ”‚[0m          run `npm fund` for details
2025-07-28T13:35:14.287102322Z [34mâ”‚[0m        
2025-07-28T13:35:14.287127430Z [34mâ”‚[0m        14 vulnerabilities (4 low, 8 moderate, 1 high, 1 critical)
2025-07-28T13:35:14.287129519Z [34mâ”‚[0m        
2025-07-28T13:35:14.287131557Z [34mâ”‚[0m        To address issues that do not require attention, run:
2025-07-28T13:35:14.287134263Z [34mâ”‚[0m          npm audit fix
2025-07-28T13:35:14.287136156Z [34mâ”‚[0m        
2025-07-28T13:35:14.287137829Z [34mâ”‚[0m        Some issues need review, and may require choosing
2025-07-28T13:35:14.287139559Z [34mâ”‚[0m        a different dependency.
2025-07-28T13:35:14.287141323Z [34mâ”‚[0m        
2025-07-28T13:35:14.287143117Z [34mâ”‚[0m        Run `npm audit` for details.
2025-07-28T13:35:14.433751670Z [34mâ”‚[0m        
2025-07-28T13:35:14.433786007Z [34mâ”‚[0m -----> Build
2025-07-28T13:35:14.520350605Z [34mâ”‚[0m        
2025-07-28T13:35:14.520568308Z [34mâ”‚[0m -----> Caching build
2025-07-28T13:35:14.521259968Z [34mâ”‚[0m        - npm cache
2025-07-28T13:35:14.610037658Z [34mâ”‚[0m        
2025-07-28T13:35:14.610067050Z [34mâ”‚[0m -----> Pruning devDependencies
2025-07-28T13:35:14.693347114Z [34mâ”‚[0m        Skipping because NODE_ENV is not 'production'
2025-07-28T13:35:14.726683678Z [34mâ”‚[0m        
2025-07-28T13:35:14.726735111Z [34mâ”‚[0m -----> Build succeeded!
2025-07-28T13:35:15.236229215Z [34mâ”‚[0m Running custom build command: npm run build
2025-07-28T13:35:15.312899986Z [34mâ”‚[0m npm warn Unknown project config "auto-install-peers". This will stop working in the next major version of npm.
2025-07-28T13:35:15.312928770Z [34mâ”‚[0m npm warn Unknown project config "shamefully-hoist". This will stop working in the next major version of npm.
2025-07-28T13:35:15.312931000Z [34mâ”‚[0m npm warn Unknown project config "enable-pre-post-scripts". This will stop working in the next major version of npm.
2025-07-28T13:35:15.443934455Z [34mâ”‚[0m 
2025-07-28T13:35:15.443960604Z [34mâ”‚[0m > shop-chat-agent@1.0.19 build
2025-07-28T13:35:15.443963927Z [34mâ”‚[0m > prisma generate && remix vite:build
2025-07-28T13:35:15.443966274Z [34mâ”‚[0m 
2025-07-28T13:35:16.064240059Z [34mâ”‚[0m Prisma schema loaded from prisma/schema.prisma
2025-07-28T13:35:16.198703397Z [34mâ”‚[0m Warning: You did not specify an output path for your `generator` in schema.prisma. This behavior is deprecated and will no longer be supported in Prisma 7.0.0. To learn more visit https://pris.ly/cli/output-path
2025-07-28T13:35:16.366827933Z [34mâ”‚[0m 
2025-07-28T13:35:16.366853230Z [34mâ”‚[0m âœ” Generated Prisma Client (v6.6.0) to ./node_modules/@prisma/client in 49ms
2025-07-28T13:35:16.366856048Z [34mâ”‚[0m 
2025-07-28T13:35:16.366857890Z [34mâ”‚[0m Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
2025-07-28T13:35:16.366859643Z [34mâ”‚[0m 
2025-07-28T13:35:16.366861849Z [34mâ”‚[0m Tip: Easily identify and fix slow SQL queries in your app. Optimize helps you enhance your visibility: https://pris.ly/--optimize
2025-07-28T13:35:16.366863858Z [34mâ”‚[0m 
2025-07-28T13:35:17.189429679Z [34mâ”‚[0m vite v6.3.3 building for production...
2025-07-28T13:35:17.234358549Z [34mâ”‚[0m transforming...
2025-07-28T13:35:17.361075320Z [34mâ”‚[0m âœ“ 26 modules transformed.
2025-07-28T13:35:17.378138026Z [34mâ”‚[0m âœ— Build failed in 171ms
2025-07-28T13:35:17.378385026Z [34mâ”‚[0m [commonjs--resolver] Server-only module referenced by client
2025-07-28T13:35:17.378395811Z [34mâ”‚[0m 
2025-07-28T13:35:17.378398448Z [34mâ”‚[0m     '../db.server' imported by route 'app/routes/api.whatsapp-webhook.jsx'
2025-07-28T13:35:17.378400326Z [34mâ”‚[0m 
2025-07-28T13:35:17.378402103Z [34mâ”‚[0m   Remix automatically removes server-code from these exports:
2025-07-28T13:35:17.378404159Z [34mâ”‚[0m     `loader`, `action`, `headers`
2025-07-28T13:35:17.378405940Z [34mâ”‚[0m 
2025-07-28T13:35:17.378408139Z [34mâ”‚[0m   But other route exports in 'app/routes/api.whatsapp-webhook.jsx' depend on '../db.server'.
2025-07-28T13:35:17.378410125Z [34mâ”‚[0m 
2025-07-28T13:35:17.378412134Z [34mâ”‚[0m   See https://remix.run/docs/en/main/guides/vite#splitting-up-client-and-server-code
2025-07-28T13:35:17.378417137Z [34mâ”‚[0m 
2025-07-28T13:35:17.378418798Z [34mâ”‚[0m     at Object.resolveId (/workspace/node_modules/@remix-run/dev/dist/vite/plugin.js:982:15)
2025-07-28T13:35:17.378421084Z [34mâ”‚[0m     at PluginDriver.hookFirstAndGetPlugin (file:///workspace/node_modules/rollup/dist/es/shared/node-entry.js:22075:28)
2025-07-28T13:35:17.378422746Z [34mâ”‚[0m     at resolveId (file:///workspace/node_modules/rollup/dist/es/shared/node-entry.js:20557:26)
2025-07-28T13:35:17.378424975Z [34mâ”‚[0m     at ModuleLoader.resolveId (file:///workspace/node_modules/rollup/dist/es/shared/node-entry.js:20993:15)
2025-07-28T13:35:17.378426590Z [34mâ”‚[0m     at Object.resolveId (file:///workspace/node_modules/vite/dist/node/chunks/dep-BMIURPaQ.js:2835:10)
2025-07-28T13:35:17.378428269Z [34mâ”‚[0m     at PluginDriver.hookFirstAndGetPlugin (file:///workspace/node_modules/rollup/dist/es/shared/node-entry.js:22075:28)
2025-07-28T13:35:17.378429866Z [34mâ”‚[0m     at resolveId (file:///workspace/node_modules/rollup/dist/es/shared/node-entry.js:20557:26)
2025-07-28T13:35:17.378431673Z [34mâ”‚[0m     at ModuleLoader.resolveId (file:///workspace/node_modules/rollup/dist/es/shared/node-entry.js:20993:15)
2025-07-28T13:35:17.378433281Z [34mâ”‚[0m     at file:///workspace/node_modules/rollup/dist/es/shared/node-entry.js:21293:50 {
2025-07-28T13:35:17.378435007Z [34mâ”‚[0m   code: 'PLUGIN_ERROR',
2025-07-28T13:35:17.378452657Z [34mâ”‚[0m   plugin: 'commonjs--resolver',
2025-07-28T13:35:17.378454453Z [34mâ”‚[0m   hook: 'resolveId',
2025-07-28T13:35:17.378456644Z [34mâ”‚[0m   watchFiles: [
2025-07-28T13:35:17.378458434Z [34mâ”‚[0m     '/workspace/app/root.jsx',
2025-07-28T13:35:17.378460405Z [34mâ”‚[0m     '/workspace/app/routes/api.send-whatsapp-invite.jsx',
2025-07-28T13:35:17.378461980Z [34mâ”‚[0m     '/workspace/app/routes/api.whatsapp-webhook.jsx',
2025-07-28T13:35:17.378463902Z [34mâ”‚[0m     '/workspace/app/routes/auth.token-status.jsx',
2025-07-28T13:35:17.378465659Z [34mâ”‚[0m     '/workspace/app/routes/auth.callback.jsx',
2025-07-28T13:35:17.378467342Z [34mâ”‚[0m     '/workspace/node_modules/@remix-run/dev/dist/config/defaults/entry.client.tsx',
2025-07-28T13:35:17.378468934Z [34mâ”‚[0m     '/workspace/app/routes/api.webhooks.jsx',
2025-07-28T13:35:17.378470516Z [34mâ”‚[0m     '/workspace/app/routes/auth.$.jsx',
2025-07-28T13:35:17.378472083Z [34mâ”‚[0m     '/workspace/app/routes/_index.jsx',
2025-07-28T13:35:17.378473712Z [34mâ”‚[0m     '/workspace/app/routes/chat.jsx',
2025-07-28T13:35:17.378475311Z [34mâ”‚[0m     '/workspace/app/routes/app.jsx',
2025-07-28T13:35:17.378476920Z [34mâ”‚[0m     '/workspace/app/routes/app._index.jsx',
2025-07-28T13:35:17.378478557Z [34mâ”‚[0m     '/workspace/package.json',
2025-07-28T13:35:17.378480319Z [34mâ”‚[0m     '/workspace/node_modules/react/jsx-runtime.js',
2025-07-28T13:35:17.378481925Z [34mâ”‚[0m     '/workspace/node_modules/@remix-run/react/dist/esm/index.js',
2025-07-28T13:35:17.378483486Z [34mâ”‚[0m     '/workspace/node_modules/react-dom/client.js',
2025-07-28T13:35:17.378485166Z [34mâ”‚[0m     '/workspace/node_modules/react/index.js',
2025-07-28T13:35:17.378486834Z [34mâ”‚[0m     '/workspace/node_modules/@remix-run/react/dist/esm/scroll-restoration.js',
2025-07-28T13:35:17.378488526Z [34mâ”‚[0m     '/workspace/node_modules/@remix-run/react/dist/esm/browser.js',
2025-07-28T13:35:17.378490126Z [34mâ”‚[0m     '/workspace/node_modules/@remix-run/react/dist/esm/components.js',
2025-07-28T13:35:17.378491729Z [34mâ”‚[0m     '/workspace/node_modules/@remix-run/react/dist/esm/server.js',
2025-07-28T13:35:17.378493417Z [34mâ”‚[0m     '/workspace/node_modules/@remix-run/server-runtime/dist/esm/index.js',
2025-07-28T13:35:17.378494974Z [34mâ”‚[0m     '/workspace/node_modules/react-router-dom/dist/index.js'
2025-07-28T13:35:17.378496631Z [34mâ”‚[0m   ]
2025-07-28T13:35:17.378498274Z [34mâ”‚[0m }
2025-07-28T13:35:17.388478899Z [34mâ”‚[0m npm notice
2025-07-28T13:35:17.388493906Z [34mâ”‚[0m npm notice New minor version of npm available! 11.3.0 -> 11.5.1
2025-07-28T13:35:17.388497124Z [34mâ”‚[0m npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.1
2025-07-28T13:35:17.388499617Z [34mâ”‚[0m npm notice To update run: npm install -g npm@11.5.1
2025-07-28T13:35:17.388501790Z [34mâ”‚[0m npm notice
2025-07-28T13:35:17.393005533Z [34mâ”‚[0m building: exit status 1
2025-07-28T13:35:17.393501953Z [34mâ”‚[0m Timer: Builder ran for 27.970343755s and ended at 2025-07-28T13:35:17Z
2025-07-28T13:35:17.393730729Z [34mâ”‚[0m [31;1mERROR: [0mfailed to build: exit status 1
2025-07-28T13:35:17.622606618Z [34mâ”‚[0m 
2025-07-28T13:35:17.626431925Z [34mâ”‚[0m 
2025-07-28T13:35:17.635573745Z [34mâ”‚[0m [31m âœ˜ build failed[0m