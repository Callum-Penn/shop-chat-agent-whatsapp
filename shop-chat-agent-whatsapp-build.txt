2025-07-28T08:50:29.748863557Z [34m╭────────────[34m[30m[44m git repo clone [0m[0m[34m───────────╼[0m
2025-07-28T08:50:29.748890896Z [34m│[0m [34m › fetching app source code[0m
2025-07-28T08:50:29.748894631Z [34m│[0m => Selecting branch "main"
2025-07-28T08:50:29.783487625Z [34m│[0m => Checking out commit "adc80c3765d10d95b238976541620f723eaec5e6"
2025-07-28T08:50:29.799128359Z [34m│[0m 
2025-07-28T08:50:29.802312033Z [34m│[0m [32m ✔ cloned repo to [35m/workspace[0m[0m
2025-07-28T08:50:29.827090376Z [34m╰────────────────────────────────────────╼[0m
2025-07-28T08:50:29.827105260Z 
2025-07-28T08:50:30.209253664Z [34m › configuring build-time app environment variables:[0m
2025-07-28T08:50:30.209288828Z      SHOPIFY_API_KEY WHATSAPP_VERIFY_TOKEN SHOPIFY_APP_URL DIRECT_URL CLAUDE_API_KEY REDIRECT_URL WHATSAPP_PHONE_NUMBER_ID SHOPIFY_CHAT_BUBBLE_ID WHATSAPP_TOKEN SHOPIFY_API_SECRET
2025-07-28T08:50:30.209293263Z 
2025-07-28T08:50:30.211104123Z [34m › configuring custom build command to be run at the end of the build:[0m
2025-07-28T08:50:30.217121992Z    [34m│[0m npm run build
2025-07-28T08:50:30.217138947Z 
2025-07-28T08:50:30.312405848Z [34m╭────────────[34m[30m[44m buildpack detection [0m[0m[34m───────────╼[0m
2025-07-28T08:50:30.338437600Z [34m│[0m [34m › using Ubuntu 22.04 stack[0m
2025-07-28T08:50:31.438930426Z [34m│[0m Detected the following buildpacks suitable to build your app:
2025-07-28T08:50:31.438956567Z [34m│[0m 
2025-07-28T08:50:31.438960514Z [34m│[0m    digitalocean/nodejs-appdetect  v0.0.6    
2025-07-28T08:50:31.439153704Z [34m│[0m    heroku/nodejs                  v0.296.5  (Node.js)
2025-07-28T08:50:31.439170656Z [34m│[0m    digitalocean/procfile          v0.1.0    (Procfile)
2025-07-28T08:50:31.439175973Z [34m│[0m    digitalocean/custom            v0.2.0    (Custom Build Command)
2025-07-28T08:50:31.442055502Z [34m╰─────────────────────────────────────────────╼[0m
2025-07-28T08:50:31.442066279Z 
2025-07-28T08:50:31.444412382Z [34m╭────────────[34m[30m[44m build caching [0m[0m[34m───────────╼[0m
2025-07-28T08:50:31.446625075Z [34m│[0m [34m › checking for cache from a previous build[0m
2025-07-28T08:50:31.979917895Z [34m│[0m Timer: Analyzer started at 2025-07-28T08:50:31Z
2025-07-28T08:50:35.411037342Z [34m│[0m Restoring metadata for "heroku/nodejs:shim" from cache
2025-07-28T08:50:35.411068964Z [34m│[0m Timer: Analyzer ran for 3.431312283s and ended at 2025-07-28T08:50:35Z
2025-07-28T08:50:36.249672811Z [34m│[0m Timer: Restorer started at 2025-07-28T08:50:36Z
2025-07-28T08:50:38.593074903Z [34m│[0m Restoring data for "heroku/nodejs:shim" from cache
2025-07-28T08:50:40.568601911Z [34m│[0m Timer: Restorer ran for 4.318889353s and ended at 2025-07-28T08:50:40Z
2025-07-28T08:50:40.587405498Z [34m╰───────────────────────────────────────╼[0m
2025-07-28T08:50:40.587433995Z 
2025-07-28T08:50:40.589990432Z [34m╭────────────[34m[30m[44m app build [0m[0m[34m───────────╼[0m
2025-07-28T08:50:40.631396410Z [34m│[0m Timer: Builder started at 2025-07-28T08:50:40Z
2025-07-28T08:50:41.090847408Z [34m│[0m        
2025-07-28T08:50:41.090872386Z [34m│[0m -----> Creating runtime environment
2025-07-28T08:50:41.135945016Z [34m│[0m        
2025-07-28T08:50:41.137815221Z [34m│[0m        NPM_CONFIG_LOGLEVEL=error
2025-07-28T08:50:41.143555014Z [34m│[0m        NODE_VERBOSE=false
2025-07-28T08:50:41.143702091Z [34m│[0m        NODE_ENV=
2025-07-28T08:50:41.143707514Z [34m│[0m        NODE_MODULES_CACHE=true
2025-07-28T08:50:41.148494586Z [34m│[0m        
2025-07-28T08:50:41.148712069Z [34m│[0m -----> Installing binaries
2025-07-28T08:50:41.249313673Z [34m│[0m        engines.node (package.json):   ^18.20 || ^20.10 || >=21.0.0
2025-07-28T08:50:41.249491100Z [34m│[0m        engines.npm (package.json):    unspecified (use default)
2025-07-28T08:50:41.249500652Z [34m│[0m        
2025-07-28T08:50:41.374607739Z [34m│[0m        Resolving node version ^18.20 || ^20.10 || >=21.0.0...
2025-07-28T08:50:41.385809495Z [34m│[0m        Downloading and installing node 24.2.0...
2025-07-28T08:50:46.832532069Z [34m│[0m        Using default npm version: 11.3.0
2025-07-28T08:50:47.609477527Z [34m│[0m        
2025-07-28T08:50:47.609504620Z [34m│[0m -----> Restoring cache
2025-07-28T08:50:47.612486391Z [34m│[0m        - npm cache
2025-07-28T08:50:47.712011604Z [34m│[0m        
2025-07-28T08:50:47.712036404Z [34m│[0m -----> Installing dependencies
2025-07-28T08:50:47.796617948Z [34m│[0m        Installing node modules
2025-07-28T08:51:05.889150649Z [34m│[0m        
2025-07-28T08:51:05.889184735Z [34m│[0m        added 1217 packages, and audited 1218 packages in 18s
2025-07-28T08:51:05.889187265Z [34m│[0m        
2025-07-28T08:51:05.889405809Z [34m│[0m        302 packages are looking for funding
2025-07-28T08:51:05.889425862Z [34m│[0m          run `npm fund` for details
2025-07-28T08:51:05.911818366Z [34m│[0m        
2025-07-28T08:51:05.911846143Z [34m│[0m        14 vulnerabilities (4 low, 8 moderate, 1 high, 1 critical)
2025-07-28T08:51:05.911849213Z [34m│[0m        
2025-07-28T08:51:05.912042875Z [34m│[0m        To address issues that do not require attention, run:
2025-07-28T08:51:05.912059645Z [34m│[0m          npm audit fix
2025-07-28T08:51:05.912062189Z [34m│[0m        
2025-07-28T08:51:05.912063985Z [34m│[0m        Some issues need review, and may require choosing
2025-07-28T08:51:05.912065743Z [34m│[0m        a different dependency.
2025-07-28T08:51:05.912067510Z [34m│[0m        
2025-07-28T08:51:05.912172805Z [34m│[0m        Run `npm audit` for details.
2025-07-28T08:51:05.967084697Z [34m│[0m        
2025-07-28T08:51:05.967313538Z [34m│[0m -----> Build
2025-07-28T08:51:06.048863199Z [34m│[0m        
2025-07-28T08:51:06.048892293Z [34m│[0m -----> Caching build
2025-07-28T08:51:06.049759844Z [34m│[0m        - npm cache
2025-07-28T08:51:06.143165835Z [34m│[0m        
2025-07-28T08:51:06.143201497Z [34m│[0m -----> Pruning devDependencies
2025-07-28T08:51:06.225960218Z [34m│[0m        Skipping because NODE_ENV is not 'production'
2025-07-28T08:51:06.258989664Z [34m│[0m        
2025-07-28T08:51:06.259169444Z [34m│[0m -----> Build succeeded!
2025-07-28T08:51:06.731690122Z [34m│[0m Procfile: configuring type "web" process: "npm run start:with-db"
2025-07-28T08:51:06.731714097Z [34m│[0m Procfile: will set process 'web' as the default process
2025-07-28T08:51:06.745935716Z [34m│[0m Running custom build command: npm run build
2025-07-28T08:51:06.821134153Z [34m│[0m npm warn Unknown project config "auto-install-peers". This will stop working in the next major version of npm.
2025-07-28T08:51:06.821731399Z [34m│[0m npm warn Unknown project config "shamefully-hoist". This will stop working in the next major version of npm.
2025-07-28T08:51:06.821755366Z [34m│[0m npm warn Unknown project config "enable-pre-post-scripts". This will stop working in the next major version of npm.
2025-07-28T08:51:06.952171348Z [34m│[0m 
2025-07-28T08:51:06.952197596Z [34m│[0m > shop-chat-agent@1.0.4 build
2025-07-28T08:51:06.952201108Z [34m│[0m > prisma generate && remix vite:build
2025-07-28T08:51:06.952203464Z [34m│[0m 
2025-07-28T08:51:07.587250965Z [34m│[0m Prisma schema loaded from prisma/schema.prisma
2025-07-28T08:51:07.721645902Z [34m│[0m Warning: You did not specify an output path for your `generator` in schema.prisma. This behavior is deprecated and will no longer be supported in Prisma 7.0.0. To learn more visit https://pris.ly/cli/output-path
2025-07-28T08:51:07.888727987Z [34m│[0m 
2025-07-28T08:51:07.889040993Z [34m│[0m ✔ Generated Prisma Client (v6.6.0) to ./node_modules/@prisma/client in 49ms
2025-07-28T08:51:07.889057671Z [34m│[0m 
2025-07-28T08:51:07.889060724Z [34m│[0m Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
2025-07-28T08:51:07.889063115Z [34m│[0m 
2025-07-28T08:51:07.889065378Z [34m│[0m Tip: Want to turn off tips and other hints? https://pris.ly/tip-4-nohints
2025-07-28T08:51:07.889067618Z [34m│[0m 
2025-07-28T08:51:08.615383091Z [34m│[0m ⚠️ Route ID Collision: "routes/_index"
2025-07-28T08:51:08.615622073Z [34m│[0m 
2025-07-28T08:51:08.615626869Z [34m│[0m The following routes all define the same Route ID, only the first one will be used
2025-07-28T08:51:08.615628941Z [34m│[0m 
2025-07-28T08:51:08.615631067Z [34m│[0m 🟢 routes/_index/route.jsx
2025-07-28T08:51:08.615632987Z [34m│[0m ⭕️️ routes/_index.jsx
2025-07-28T08:51:08.615634865Z [34m│[0m 
2025-07-28T08:51:08.681936484Z [34m│[0m ⚠️ Route ID Collision: "routes/_index"
2025-07-28T08:51:08.681960771Z [34m│[0m 
2025-07-28T08:51:08.681963380Z [34m│[0m The following routes all define the same Route ID, only the first one will be used
2025-07-28T08:51:08.681965517Z [34m│[0m 
2025-07-28T08:51:08.681967794Z [34m│[0m 🟢 routes/_index/route.jsx
2025-07-28T08:51:08.681969616Z [34m│[0m ⭕️️ routes/_index.jsx
2025-07-28T08:51:08.681971377Z [34m│[0m 
2025-07-28T08:51:08.708784606Z [34m│[0m vite v6.3.3 building for production...
2025-07-28T08:51:08.747987386Z [34m│[0m transforming...
2025-07-28T08:51:10.981684574Z [34m│[0m ✓ 1488 modules transformed.
2025-07-28T08:51:11.000508546Z [34m│[0m Generated an empty chunk: "api.send-whatsapp-invite".
2025-07-28T08:51:11.074017594Z [34m│[0m Generated an empty chunk: "api.whatsapp-webhook".
2025-07-28T08:51:11.074040590Z [34m│[0m Generated an empty chunk: "auth.token-status".
2025-07-28T08:51:11.074042646Z [34m│[0m Generated an empty chunk: "auth.callback".
2025-07-28T08:51:11.074571864Z [34m│[0m Generated an empty chunk: "api.webhooks".
2025-07-28T08:51:11.074595974Z [34m│[0m Generated an empty chunk: "auth._".
2025-07-28T08:51:11.074598874Z [34m│[0m Generated an empty chunk: "chat".
2025-07-28T08:51:11.097046666Z [34m│[0m rendering chunks...
2025-07-28T08:51:11.185191962Z [34m│[0m computing gzip size...
2025-07-28T08:51:11.198582403Z [34m│[0m build/client/.vite/manifest.json                            3.89 kB │ gzip:  0.66 kB
2025-07-28T08:51:11.198603303Z [34m│[0m build/client/assets/route-TqOIn4DE.css                      0.76 kB │ gzip:  0.35 kB
2025-07-28T08:51:11.198606247Z [34m│[0m build/client/assets/styles-BeiPL2RV.css                   444.11 kB │ gzip: 52.26 kB
2025-07-28T08:51:11.198634490Z [34m│[0m build/client/assets/api.send-whatsapp-invite-l0sNRNKZ.js    0.00 kB │ gzip:  0.02 kB
2025-07-28T08:51:11.198637638Z [34m│[0m build/client/assets/api.whatsapp-webhook-l0sNRNKZ.js        0.00 kB │ gzip:  0.02 kB
2025-07-28T08:51:11.198640222Z [34m│[0m build/client/assets/auth.token-status-l0sNRNKZ.js           0.00 kB │ gzip:  0.02 kB
2025-07-28T08:51:11.198642646Z [34m│[0m build/client/assets/auth.callback-l0sNRNKZ.js               0.00 kB │ gzip:  0.02 kB
2025-07-28T08:51:11.198805584Z [34m│[0m build/client/assets/api.webhooks-l0sNRNKZ.js                0.00 kB │ gzip:  0.02 kB
2025-07-28T08:51:11.198829120Z [34m│[0m build/client/assets/auth._-l0sNRNKZ.js                      0.00 kB │ gzip:  0.02 kB
2025-07-28T08:51:11.198831981Z [34m│[0m build/client/assets/chat-l0sNRNKZ.js                        0.00 kB │ gzip:  0.02 kB
2025-07-28T08:51:11.198834478Z [34m│[0m build/client/assets/route-BlKN1UwG.js                       0.52 kB │ gzip:  0.31 kB
2025-07-28T08:51:11.198836972Z [34m│[0m build/client/assets/root-DV2yYFxy.js                        1.54 kB │ gzip:  0.88 kB
2025-07-28T08:51:11.198839238Z [34m│[0m build/client/assets/entry.client-C8qsADmn.js                3.86 kB │ gzip:  1.46 kB
2025-07-28T08:51:11.198841487Z [34m│[0m build/client/assets/app-WQcOdY7t.js                        52.26 kB │ gzip: 17.47 kB
2025-07-28T08:51:11.198844118Z [34m│[0m build/client/assets/app._index-CuTWNgfa.js                 92.26 kB │ gzip: 28.00 kB
2025-07-28T08:51:11.198846165Z [34m│[0m build/client/assets/components-BM6ohCyr.js                112.98 kB │ gzip: 36.86 kB
2025-07-28T08:51:11.198848318Z [34m│[0m build/client/assets/index-DyvlXPIm.js                     143.27 kB │ gzip: 45.96 kB
2025-07-28T08:51:11.198850520Z [34m│[0m build/client/assets/context-Bc5U5NO4.js                   151.69 kB │ gzip: 17.04 kB
2025-07-28T08:51:11.199012217Z [34m│[0m ✓ built in 2.47s
2025-07-28T08:51:11.213534347Z [34m│[0m ⚠️ Route ID Collision: "routes/_index"
2025-07-28T08:51:11.213553195Z [34m│[0m 
2025-07-28T08:51:11.213556059Z [34m│[0m The following routes all define the same Route ID, only the first one will be used
2025-07-28T08:51:11.213558066Z [34m│[0m 
2025-07-28T08:51:11.213560393Z [34m│[0m 🟢 routes/_index/route.jsx
2025-07-28T08:51:11.213562146Z [34m│[0m ⭕️️ routes/_index.jsx
2025-07-28T08:51:11.213564234Z [34m│[0m 
2025-07-28T08:51:11.256336918Z [34m│[0m vite v6.3.3 building SSR bundle for production...
2025-07-28T08:51:11.258013725Z [34m│[0m transforming...
2025-07-28T08:51:11.361380162Z [34m│[0m "Form" is imported from external module "@remix-run/react" but never used in "app/root.jsx", "app/entry.server.jsx", "app/routes/app.jsx" and "app/routes/_index/route.jsx".
2025-07-28T08:51:11.361408091Z [34m│[0m ✓ 26 modules transformed.
2025-07-28T08:51:11.411044835Z [34m│[0m [plugin vite:reporter] 
2025-07-28T08:51:11.411069058Z [34m│[0m (!) /workspace/app/db.server.js is dynamically imported by /workspace/app/auth.server.js, /workspace/app/auth.server.js, /workspace/app/routes/auth.callback.jsx but also statically imported by /workspace/app/mcp-client.js, /workspace/app/routes/api.webhooks.jsx, /workspace/app/routes/auth.callback.jsx, /workspace/app/routes/auth.token-status.jsx, /workspace/app/routes/chat.jsx, /workspace/app/services/tool.server.js, /workspace/app/shopify.server.js, dynamic import will not move module into another chunk.
2025-07-28T08:51:11.411073688Z [34m│[0m 
2025-07-28T08:51:11.411309075Z [34m│[0m rendering chunks...
2025-07-28T08:51:11.414822073Z [34m│[0m build/server/.vite/manifest.json                 0.46 kB
2025-07-28T08:51:11.414858180Z [34m│[0m build/server/assets/server-build-TqOIn4DE.css    0.76 kB
2025-07-28T08:51:11.414861276Z [34m│[0m build/server/assets/styles-BeiPL2RV.css        444.11 kB
2025-07-28T08:51:11.414863518Z [34m│[0m build/server/index.js                           61.35 kB
2025-07-28T08:51:11.416056896Z [34m│[0m ✓ built in 160ms
2025-07-28T08:51:11.435454021Z [34m│[0m npm notice
2025-07-28T08:51:11.435471901Z [34m│[0m npm notice New minor version of npm available! 11.3.0 -> 11.5.1
2025-07-28T08:51:11.435475508Z [34m│[0m npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.1
2025-07-28T08:51:11.435478433Z [34m│[0m npm notice To update run: npm install -g npm@11.5.1
2025-07-28T08:51:11.435481004Z [34m│[0m npm notice
2025-07-28T08:51:11.439821758Z [34m│[0m Timer: Builder ran for 30.808427556s and ended at 2025-07-28T08:51:11Z
2025-07-28T08:51:11.676921430Z [34m╰───────────────────────────────────╼[0m
2025-07-28T08:51:11.676944615Z 
2025-07-28T08:51:11.685219529Z [34m╭────────────[34m[30m[44m app upload [0m[0m[34m───────────╼[0m
2025-07-28T08:51:11.697291823Z [34m│[0m [34m › uploading app container image to DOCR[0m
2025-07-28T08:51:12.061973878Z [34m│[0m Reusing layers from image <registry-uri-0>
2025-07-28T08:51:13.019734187Z [34m│[0m Timer: Exporter started at 2025-07-28T08:51:13Z
2025-07-28T08:51:13.020898536Z [34m│[0m Reusing layer 'heroku/nodejs:profile'
2025-07-28T08:51:25.399836213Z [34m│[0m Adding 1/1 app layer(s)
2025-07-28T08:51:25.407243107Z [34m│[0m Reusing layer 'buildpacksio/lifecycle:launcher'
2025-07-28T08:51:25.407770144Z [34m│[0m Reusing layer 'buildpacksio/lifecycle:config'
2025-07-28T08:51:25.408179848Z [34m│[0m Reusing layer 'buildpacksio/lifecycle:process-types'
2025-07-28T08:51:25.408423621Z [34m│[0m Adding label 'io.buildpacks.lifecycle.metadata'
2025-07-28T08:51:25.408751342Z [34m│[0m Adding label 'io.buildpacks.build.metadata'
2025-07-28T08:51:25.408754509Z [34m│[0m Adding label 'io.buildpacks.project.metadata'
2025-07-28T08:51:25.409092446Z [34m│[0m Setting default process type 'web'
2025-07-28T08:51:25.409237055Z [34m│[0m Timer: Saving <image-1>... started at 2025-07-28T08:51:25Z
2025-07-28T08:51:39.460625121Z [34m│[0m *** Images (sha256:eb27d4fc556fe986da662cbfbcc3c095d05f8e8e92c2d21a486d8d107cbc72a9):
2025-07-28T08:51:39.460666321Z [34m│[0m       <image-2>
2025-07-28T08:51:39.460671448Z [34m│[0m Timer: Saving <image-3>... ran for 14.050915312s and ended at 2025-07-28T08:51:39Z
2025-07-28T08:51:39.460674536Z [34m│[0m Timer: Exporter ran for 26.441377655s and ended at 2025-07-28T08:51:39Z
2025-07-28T08:51:39.460678467Z [34m│[0m Timer: Cache started at 2025-07-28T08:51:39Z
2025-07-28T08:51:41.184487761Z [34m│[0m Adding cache layer 'heroku/nodejs:shim'
2025-07-28T08:51:47.992161086Z [34m│[0m [32m ✔ uploaded app image to DOCR[0m
2025-07-28T08:51:47.994725735Z [34m╰────────────────────────────────────╼[0m
2025-07-28T08:51:47.994740083Z 
2025-07-28T08:51:48.008836592Z [32m ✔ [0m[30m[42m build complete [0m[0m
2025-07-28T08:51:48.008855944Z 
